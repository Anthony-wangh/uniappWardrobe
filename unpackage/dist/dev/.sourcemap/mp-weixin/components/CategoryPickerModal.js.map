{"version":3,"file":"CategoryPickerModal.js","sources":["components/CategoryPickerModal.vue","D:/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTovR2l0UHJvamVjdC91bmlhcHBXYXJkcm9iZS9jb21wb25lbnRzL0NhdGVnb3J5UGlja2VyTW9kYWwudnVl"],"sourcesContent":["<template>\n\t<view class=\"overlay\" v-if=\"showPicker\">\n\t\t<view class=\"mask\" @click=\"cancel\"></view>\n\n\t\t<view class=\"picker-wrapper\" :class=\"{ 'picker-wrapper-show': showPicker, 'picker-wrapper-hide': !showPicker }\">\n\t\t\t<view class=\"picker-header\">\n\t\t\t\t<text class=\"cancel\" @click=\"cancel\">{{ cancelText }}</text>\n\t\t\t\t<text class=\"confirm\" @click=\"confirm\">{{ confirmText }}</text>\n\t\t\t</view>\n\n\t\t\t<picker-view :value=\"pickerValue\" @change=\"onPickerChange\" indicator-style=\"height: 50px;\"\n\t\t\t\tclass=\"picker-view\">\n\t\t\t\t<picker-view-column>\n\t\t\t\t\t<view v-for=\"(item, index) in mainList\" :key=\"index\" class=\"picker-item\">{{ item }}</view>\n\t\t\t\t</picker-view-column>\n\n\t\t\t\t<picker-view-column>\n\t\t\t\t\t<view v-for=\"(item, index) in subList\" :key=\"index\" class=\"picker-item\">{{ item }}</view>\n\t\t\t\t</picker-view-column>\n\t\t\t</picker-view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tname: 'CategoryPicker',\n\t\tprops: {\n\t\t\tdata: {\n\t\t\t\ttype: Object,\n\t\t\t\trequired: true\n\t\t\t},\n\t\t\tdefaultValue: {\n\t\t\t\ttype: Array,\n\t\t\t\tdefault: () => []\n\t\t\t},\n\t\t\ttitle: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '选择分类'\n\t\t\t},\n\t\t\tcancelText: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '取消'\n\t\t\t},\n\t\t\tconfirmText: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '确定'\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tmainList: [],\n\t\t\t\tsubList: [],\n\t\t\t\tpickerValue: [0, 0],\n\t\t\t\tshowPicker: false\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\t\t\tthis.mainList = Object.keys(this.data);\n\n\t\t\tconst mainIndex = this.defaultValue.length ? \n\t\t\t\tthis.mainList.indexOf(this.defaultValue[0]) : \n\t\t\t\t0;\n\n\t\t\tconst subOptions = this.data[this.mainList[mainIndex]] || [];\n\n\t\t\tconst subIndex = this.defaultValue.length > 1 ?\n\t\t\t\tsubOptions.indexOf(this.defaultValue[1]) : \n\t\t\t\t0;\n\n\t\t\tthis.subList = subOptions;\n\t\t\tthis.pickerValue = [mainIndex, subIndex];\n\t\t},\n\t\tmethods: {\n\t\t\topen() {\n\t\t\t\tthis.showPicker = true;\n\t\t\t},\n\t\t\tonPickerChange(e) {\n\t\t\t\tconst [mainIndex, subIndex] = e.detail.value;\n\n\t\t\t\tif (mainIndex !== this.pickerValue[0]) {\n\t\t\t\t\tconst newMain = this.mainList[mainIndex];\n\t\t\t\t\tconst newSubList = this.data[newMain] || [];\n\t\t\t\t\tthis.subList = newSubList;\n\t\t\t\t\tthis.pickerValue = [mainIndex, 0];\n\t\t\t\t} else {\n\t\t\t\t\tthis.pickerValue = e.detail.value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tthis.$emit('cancel');\n\t\t\t\tthis.showPicker = false; // 关闭 picker\n\t\t\t},\n\t\t\tconfirm() {\n\t\t\t\tconst [mainIndex, subIndex] = this.pickerValue;\n\t\t\t\tconst main = this.mainList[mainIndex];\n\t\t\t\tconst sub = this.subList[subIndex];\n\t\t\t\tthis.$emit('confirm', { main, sub });\n\t\t\t\tthis.showPicker = false; // 关闭 picker\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.overlay {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tz-index: 999;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: flex-end;\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\t/* 背景遮罩 */\n\t}\n\n\t.mask {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tz-index: 998;\n\t}\n\n\t.picker-wrapper {\n\t\twidth: 100%;\n\t\tbackground-color: #fff;\n\t\tborder-top-left-radius: 10px;\n\t\tborder-top-right-radius: 10px;\n\t\tz-index: 999;\n\t\tposition: relative;\n\t\ttransition: transform 0.3s ease-out;\n\t\ttransform: translateY(100%); /* 初始位置在屏幕外 */\n\t}\n\n\t.picker-wrapper-show {\n\t\ttransform: translateY(0); /* 显示时从下方滑入 */\n\t}\n\n\t.picker-wrapper-hide {\n\t\ttransform: translateY(100%); /* 隐藏时滑出屏幕 */\n\t}\n\n\t.picker-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tpadding: 15px 20px;\n\t\tfont-size: 18px;\n\t\tbackground-color: #f8f8f8;\n\t\tborder-bottom: 1px solid #ddd;\n\t}\n\n\t.cancel{\r\n\t\tfont-size: 18px;\r\n\t\tcolor: #434343;\r\n\t}\n\t.confirm {\n\t\tfont-size: 18px;\n\t\tcolor: #9ca1d3;\n\t}\n\n\t.picker-view {\n\t\twidth: 100%;\n\t\theight: 200px;\n\t}\n\n\t.picker-item {\n\t\theight: 50px;\n\t\tline-height: 50px;\n\t\ttext-align: center;\n\t\tfont-size: 16px;\n\t}\n</style>\n","import Component from 'E:/GitProject/uniappWardrobe/components/CategoryPickerModal.vue'\nwx.createComponent(Component)"],"names":[],"mappings":";;AAyBC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA,IACN,MAAM;AAAA,MACL,MAAM;AAAA,MACN,UAAU;AAAA,IACV;AAAA,IACD,cAAc;AAAA,MACb,MAAM;AAAA,MACN,SAAS,MAAM,CAAC;AAAA,IAChB;AAAA,IACD,OAAO;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,YAAY;AAAA,MACX,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,aAAa;AAAA,MACZ,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,UAAU,CAAE;AAAA,MACZ,SAAS,CAAE;AAAA,MACX,aAAa,CAAC,GAAG,CAAC;AAAA,MAClB,YAAY;AAAA;EAEb;AAAA,EACD,UAAU;AACT,SAAK,WAAW,OAAO,KAAK,KAAK,IAAI;AAErC,UAAM,YAAY,KAAK,aAAa,SACnC,KAAK,SAAS,QAAQ,KAAK,aAAa,CAAC,CAAC,IAC1C;AAED,UAAM,aAAa,KAAK,KAAK,KAAK,SAAS,SAAS,CAAC,KAAK;AAE1D,UAAM,WAAW,KAAK,aAAa,SAAS,IAC3C,WAAW,QAAQ,KAAK,aAAa,CAAC,CAAC,IACvC;AAED,SAAK,UAAU;AACf,SAAK,cAAc,CAAC,WAAW,QAAQ;AAAA,EACvC;AAAA,EACD,SAAS;AAAA,IACR,OAAO;AACN,WAAK,aAAa;AAAA,IAClB;AAAA,IACD,eAAe,GAAG;AACjB,YAAM,CAAC,WAAW,QAAQ,IAAI,EAAE,OAAO;AAEvC,UAAI,cAAc,KAAK,YAAY,CAAC,GAAG;AACtC,cAAM,UAAU,KAAK,SAAS,SAAS;AACvC,cAAM,aAAa,KAAK,KAAK,OAAO,KAAK,CAAA;AACzC,aAAK,UAAU;AACf,aAAK,cAAc,CAAC,WAAW,CAAC;AAAA,aAC1B;AACN,aAAK,cAAc,EAAE,OAAO;AAAA,MAC7B;AAAA,IACA;AAAA,IACD,SAAS;AACR,WAAK,MAAM,QAAQ;AACnB,WAAK,aAAa;AAAA,IAClB;AAAA,IACD,UAAU;AACT,YAAM,CAAC,WAAW,QAAQ,IAAI,KAAK;AACnC,YAAM,OAAO,KAAK,SAAS,SAAS;AACpC,YAAM,MAAM,KAAK,QAAQ,QAAQ;AACjC,WAAK,MAAM,WAAW,EAAE,MAAM,IAAK,CAAA;AACnC,WAAK,aAAa;AAAA,IACnB;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpGD,GAAG,gBAAgB,SAAS;"}