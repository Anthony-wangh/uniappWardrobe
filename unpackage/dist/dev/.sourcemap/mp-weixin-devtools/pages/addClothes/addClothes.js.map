{"version":3,"names":["_sfc_main","data","form","id","image","name","primaryCategory","secondaryCategory","value","notes","purchaseDate","brand","primaryCategories","secondaryCategories","errorMsg","methods","chooseImage","_this","common_vendor","index","count","sourceType","success","res","tempFilePaths","selectPrimaryCategory","e","detail","selectSecondaryCategory","selectPurchaseDate","generateUniqueId","Date","now","toString","Math","random","substr","submitForm","clothes","getStorageSync","push","from","setStorageSync","showToast","title","icon","resetForm","navigateBack","wx","createPage","MiniProgramPage"],"sources":["addClothes.vue","D:/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWRkQ2xvdGhlcy9hZGRDbG90aGVzLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 图片选择区域 -->\r\n\t\t<view class=\"image-picker\" @click=\"chooseImage\">\r\n\t\t\t<image v-if=\"form.image\" :src=\"form.image\" class=\"selected-image\" />\r\n\t\t\t<text v-else class=\"upload-text\">点击选择图片</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 表单内容 -->\r\n\t\t<view class=\"form\">\r\n\t\t\t<!-- 衣服名称 -->\r\n\t\t\t<view class=\"input-container\">\r\n\t\t\t\t<text class=\"label\">名称：</text>\r\n\t\t\t\t<input class=\"input-field\" v-model=\"form.name\" placeholder=\"请输入衣服名称（必填）\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 一级类目 -->\r\n\t\t\t<view class=\"input-container\">\r\n\t\t\t\t<text class=\"label\">一级类目：</text>\r\n\t\t\t\t<picker mode=\"selector\" :range=\"primaryCategories\" @change=\"selectPrimaryCategory\">\r\n\t\t\t\t\t<view class=\"picker\">{{ form.primaryCategory || \"请选择一级类目（必选）\" }}</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 二级类目 -->\r\n\t\t\t<view class=\"input-container\">\r\n\t\t\t\t<text class=\"label\">二级类目：</text>\r\n\t\t\t\t<picker mode=\"selector\" :range=\"secondaryCategories\" @change=\"selectSecondaryCategory\">\r\n\t\t\t\t\t<view class=\"picker\">{{ form.secondaryCategory || \"请选择二级类目（必选）\" }}</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 价值 -->\r\n\t\t\t<view class=\"input-container\">\r\n\t\t\t\t<text class=\"label\">价值：</text>\r\n\t\t\t\t<input class=\"input-field\" v-model=\"form.value\" type=\"number\" placeholder=\"请输入价值（可选）\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 备注 -->\r\n\t\t\t<view class=\"input-container\">\r\n\t\t\t\t<text class=\"label\">备注：</text>\r\n\t\t\t\t<textarea class=\"textarea-field\" v-model=\"form.notes\" placeholder=\"请输入备注（可选）\"></textarea>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 购买时间 -->\r\n\t\t\t<view class=\"input-container\">\r\n\t\t\t\t<text class=\"label\">购买时间：</text>\r\n\t\t\t\t<picker mode=\"date\" @change=\"selectPurchaseDate\">\r\n\t\t\t\t\t<view class=\"picker\">{{ form.purchaseDate || \"请选择购买时间\" }}</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 品牌 -->\r\n\t\t\t<view class=\"input-container\">\r\n\t\t\t\t<text class=\"label\">品牌：</text>\r\n\t\t\t\t<input class=\"input-field\" v-model=\"form.brand\" placeholder=\"请输入品牌（可选）\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 上传按钮 -->\r\n\t\t\t<button class=\"upload-btn\" @click=\"submitForm\">上传</button>\r\n\r\n\t\t\t<!-- 错误提示 -->\r\n\t\t\t<text class=\"error-msg\" v-if=\"errorMsg\">{{ errorMsg }}</text>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\tid: \"\",//唯一id\r\n\t\t\t\t\timage: \"\", // 选中的图片\r\n\t\t\t\t\tname: \"\", // 衣服名称\r\n\t\t\t\t\tprimaryCategory: \"\", // 一级类目\r\n\t\t\t\t\tsecondaryCategory: \"\", // 二级类目\r\n\t\t\t\t\tvalue: \"\", // 价值\r\n\t\t\t\t\tnotes: \"\", // 备注\r\n\t\t\t\t\tpurchaseDate: \"\", // 购买时间\r\n\t\t\t\t\tbrand: \"\" // 品牌\r\n\t\t\t\t},\r\n\t\t\t\tprimaryCategories: [\"春\", \"夏\", \"秋\", \"冬\"], // 一级类目\r\n\t\t\t\tsecondaryCategories: [\"上衣\", \"裤子\", \"裙子\", \"鞋\", \"配饰\"], // 二级类目\r\n\t\t\t\terrorMsg: \"\" // 错误提示\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 选择图片\r\n\t\t\tchooseImage() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsourceType: [\"album\", \"camera\"],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.form.image = res.tempFilePaths[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 选择一级类目\r\n\t\t\tselectPrimaryCategory(e) {\r\n\t\t\t\tthis.form.primaryCategory = this.primaryCategories[e.detail.value];\r\n\t\t\t},\r\n\r\n\t\t\t// 选择二级类目\r\n\t\t\tselectSecondaryCategory(e) {\r\n\t\t\t\tthis.form.secondaryCategory = this.secondaryCategories[e.detail.value];\r\n\t\t\t},\r\n\r\n\t\t\t// 选择购买时间\r\n\t\t\tselectPurchaseDate(e) {\r\n\t\t\t\tthis.form.purchaseDate = e.detail.value;\r\n\t\t\t},\r\n\t\t\tgenerateUniqueId() {\r\n\t\t\t\treturn 'id_' + Date.now().toString(36) + Math.random().toString(36).substr(2, 5);\r\n\t\t\t},\r\n\t\t\t// 提交表单\r\n\t\t\tsubmitForm() {\r\n\t\t\t\t// 校验必填项\r\n\t\t\t\tif (!this.form.image) {\r\n\t\t\t\t\tthis.errorMsg = \"请上传衣服图片\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.form.name) {\r\n\t\t\t\t\tthis.errorMsg = \"请输入衣服名称\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.form.primaryCategory) {\r\n\t\t\t\t\tthis.errorMsg = \"请选择一级类目\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.form.secondaryCategory) {\r\n\t\t\t\t\tthis.errorMsg = \"请选择二级类目\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// 获取本地存储中的衣橱数据\r\n\t\t\t\tlet clothes = uni.getStorageSync('clothes') || [];\r\n\t\t\t\tclothes.push( {\r\n\t\t\t\t\tid: this.generateUniqueId(),//唯一id\r\n\t\t\t\t\timage: this.from.image, // 选中的图片\r\n\t\t\t\t\tname: this.from.name, // 衣服名称\r\n\t\t\t\t\tprimaryCategory: this.from.primaryCategory, // 一级类目\r\n\t\t\t\t\tsecondaryCategory: this.from.secondaryCategory, // 二级类目\r\n\t\t\t\t\tvalue: this.from.value, // 价值\r\n\t\t\t\t\tnotes: this.from.notes, // 备注\r\n\t\t\t\t\tpurchaseDate: this.from.purchaseDate, // 购买时间\r\n\t\t\t\t\tbrand: this.from.brand // 品牌\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// 更新本地存储\r\n\t\t\t\tuni.setStorageSync('clothes', clothes);\r\n\r\n\r\n\t\t\t\t// 提交成功提示\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"上传成功！\",\r\n\t\t\t\t\ticon: \"success\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// 清空表单\r\n\t\t\t\tthis.resetForm();\r\n\t\t\t\t\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t},\r\n\r\n\t\t\t// 清空表单\r\n\t\t\tresetForm() {\r\n\t\t\t\tthis.form = {\r\n\t\t\t\t\timage: \"\",\r\n\t\t\t\t\tname: \"\",\r\n\t\t\t\t\tprimaryCategory: \"\",\r\n\t\t\t\t\tsecondaryCategory: \"\",\r\n\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\tnotes: \"\",\r\n\t\t\t\t\tpurchaseDate: \"\",\r\n\t\t\t\t\tbrand: \"\"\r\n\t\t\t\t};\r\n\t\t\t\tthis.errorMsg = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t/* 整体容器 */\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tpadding: 20px;\r\n\t\tbackground-color: #f9f9f9;\r\n\t\theight: 100vh;\r\n\t}\r\n\r\n\t/* 图片选择区域 */\r\n\t.image-picker {\r\n\t\twidth: 90%;\r\n\t\theight: 180px;\r\n\t\tbackground-color: #eaeaea;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tborder-radius: 10px;\r\n\t\tmargin-bottom: 15px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.selected-image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 10px;\r\n\t\tobject-fit: cover;\r\n\t}\r\n\r\n\t.upload-text {\r\n\t\tcolor: #666;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\r\n\t/* 表单 */\r\n\t.form {\r\n\t\twidth: 90%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/* 表单项容器 */\r\n\t.input-container {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t/* 属性名称左对齐 */\r\n\t.label {\r\n\t\twidth: 100px;\r\n\t\ttext-align: left;\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #333;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t/* 输入框和选择框右对齐 */\r\n\t.input-field,\r\n\t.picker,\r\n\t.textarea-field {\r\n\t\tflex: 1;\r\n\t\tpadding: 12px;\r\n\t\tborder: 1px solid #ddd;\r\n\t\tborder-radius: 5px;\r\n\t\tfont-size: 16px;\r\n\t\ttext-align: left;\r\n\t}\r\n\r\n\t/* 备注输入框 */\r\n\t.textarea-field {\r\n\t\theight: 100px;\r\n\t\tresize: none;\r\n\t}\r\n\r\n\t/* 上传按钮 */\r\n\t.upload-btn {\r\n\t\twidth: 95%;\r\n\t\tpadding: 0 12px;\r\n\t\tbackground-color: #4CAF50;\r\n\t\tcolor: white;\r\n\t\tborder: none;\r\n\t\tborder-radius: 5px;\r\n\t\tfont-size: 18px;\r\n\t\tcursor: pointer;\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t/* 错误提示 */\r\n\t.error-msg {\r\n\t\tcolor: red;\r\n\t\tfont-size: 14px;\r\n\t\tmargin-top: 10px;\r\n\t\ttext-align: center;\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/HBuilderProjects/UniappWardrobe/pages/addClothes/addClothes.vue'\nwx.createPage(MiniProgramPage)"],"mappings":"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","ignoreList":[]}