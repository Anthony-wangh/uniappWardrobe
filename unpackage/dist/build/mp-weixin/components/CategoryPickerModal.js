"use strict";const e=require("../common/vendor.js"),t={name:"CategoryPicker",props:{data:{type:Object,required:!0},defaultValue:{type:Array,default:()=>[]},title:{type:String,default:"选择分类"},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确定"}},data:()=>({mainList:[],subList:[],pickerValue:[0,0],showPicker:!1}),mounted(){this.mainList=Object.keys(this.data);const e=this.defaultValue.length?this.mainList.indexOf(this.defaultValue[0]):0,t=this.data[this.mainList[e]]||[],i=this.defaultValue.length>1?t.indexOf(this.defaultValue[1]):0;this.subList=t,this.pickerValue=[e,i]},methods:{open(){this.showPicker=!0},onPickerChange(e){const[t,i]=e.detail.value;if(t!==this.pickerValue[0]){const e=this.mainList[t],i=this.data[e]||[];this.subList=i,this.pickerValue=[t,0]}else this.pickerValue=e.detail.value},cancel(){this.$emit("cancel"),this.showPicker=!1},confirm(){const[e,t]=this.pickerValue,i=this.mainList[e],s=this.subList[t];this.$emit("confirm",{main:i,sub:s}),this.showPicker=!1}}};const i=e._export_sfc(t,[["render",function(t,i,s,a,c,n){return e.e({a:c.showPicker},c.showPicker?{b:e.o(((...e)=>n.cancel&&n.cancel(...e))),c:e.t(s.cancelText),d:e.o(((...e)=>n.cancel&&n.cancel(...e))),e:e.t(s.confirmText),f:e.o(((...e)=>n.confirm&&n.confirm(...e))),g:e.f(c.mainList,((t,i,s)=>({a:e.t(t),b:i}))),h:e.f(c.subList,((t,i,s)=>({a:e.t(t),b:i}))),i:c.pickerValue,j:e.o(((...e)=>n.onPickerChange&&n.onPickerChange(...e))),k:c.showPicker?1:"",l:c.showPicker?"":1}:{})}],["__scopeId","data-v-e940b9e3"]]);wx.createComponent(i);
